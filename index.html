<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>摄影学习笔记</title>
    <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
    <header class="site-header">
        <h1>摄影学习笔记</h1>
        <nav id="main-nav"></nav>
    </header>

    <main class="content-container">
        <!-- 动态导航卡片容器 -->
        <div class="nav-cards" id="nav-container">
            <!-- 导航卡片通过JS动态加载 -->
        </div>

        <!-- 内容展示区 -->
        <article class="content-area" id="content-main">
            <h2>欢迎来到摄影学习空间</h2>
            <p>选择左侧导航项开始学习...</p>
        </article>
    </main>

    <script>
        const loadNavigation = async () => {
            try {
                const response = await fetch('/src/nav.json');
                const { menu } = await response.json(); // 解构menu数组

                // 统一使用menu属性
                document.getElementById('nav-container').innerHTML = menu.map(item => `
                  <div class="nav-card">
                    <a href="${item.url}">
                      <h3>${item.title}</h3>
                      ${item.description ? `<p>${item.description}</p>` : ''}
                    </a>
                  </div>
                `).join('');

                // 更新错误提示
                const errorHTML = `
                  <div class="error-alert">
                    <h3>数据结构异常</h3>
                    <p>请确认src/nav.json包含有效的menu数组</p>
                    <pre>${JSON.stringify(navData, null, 2)}</pre>
                  </div>
                `;
            }
        }
        </script>

        // 页面加载完成后执行
        window.addEventListener('DOMContentLoaded', loadNavigation);
    </script>
</body>
</html>